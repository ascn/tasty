# -----------------------------------------------------------------------------
# CMake project wrapper Makefile ----------------------------------------------
# -----------------------------------------------------------------------------
# This file is automatically generated from the template in Scripts/Makefile.in 
# Make any changes needed to the template.

SHELL := /bin/bash
RM    := rm -rf
MKDIR := mkdir -p
BUILDROOT := @CISPBA_SOURCE_DIR@/Build
BUILDDEFAULT := Release
RELATIVEPATH := @CISPBA_RELATIVE_PATH@
BUILDDIR = $(BUILDROOT)/$(BUILDDEFAULT)/$(RELATIVEPATH)
ROOTDIR := @CISPBA_SOURCE_DIR@
BUILDTYPES := Release MinSizeRel Debug Coverage RelWithDebInfo Quick
OTHERGOALS := $(filter-out distclean $(BUILDTYPES),$(MAKECMDGOALS))

# Call make from build directory
.PHONY: all
all: $(BUILDROOT)/$(BUILDDEFAULT)/$(RELATIVEPATH)/Makefile
	@ $(MAKE) -s -C $(BUILDDIR) $(MAKEFLAGS) $(OTHERGOALS)

# Call make from build directory
.PHONY: Release
Release: BUILDDIR = $(BUILDROOT)/Release/$(RELATIVEPATH)
Release: $(BUILDROOT)/Release/$(RELATIVEPATH)/Makefile
	@ $(MAKE) -s -C $(BUILDDIR) $(MAKEFLAGS) $(OTHERGOALS)

# Call make from build directory
.PHONY: MinSizeRel
MinSizeRel: BUILDDIR = $(BUILDROOT)/MinSizeRel/$(RELATIVEPATH)
MinSizeRel: $(BUILDROOT)/MinSizeRel/$(RELATIVEPATH)/Makefile
	@ $(MAKE) -s -C $(BUILDDIR) $(MAKEFLAGS) $(OTHERGOALS)

# Call make from build directory
.PHONY: RelWithDebInfo
RelWithDebInfo: BUILDDIR = $(BUILDROOT)/RelWithDebInfo/$(RELATIVEPATH)
RelWithDebInfo: $(BUILDROOT)/RelWithDebInfo/$(RELATIVEPATH)/Makefile
	@ $(MAKE) -s -C $(BUILDDIR) $(MAKEFLAGS) $(OTHERGOALS)

# Call make from build directory
.PHONY: Debug
Debug: BUILDDIR = $(BUILDROOT)/Debug/$(RELATIVEPATH)
Debug: $(BUILDROOT)/Debug/$(RELATIVEPATH)/Makefile
	@ $(MAKE) -s -C $(BUILDDIR) $(MAKEFLAGS) $(OTHERGOALS)

# Call make from build directory
.PHONY: Coverage
Coverage: BUILDDIR = $(BUILDROOT)/Coverage/$(RELATIVEPATH)
Coverage: $(BUILDROOT)/Coverage/$(RELATIVEPATH)/Makefile
	@ $(MAKE) -s -C $(BUILDDIR) $(MAKEFLAGS) $(OTHERGOALS)

# Call make from build directory
.PHONY: Quick
Quick: BUILDDIR = $(BUILDROOT)/Quick/$(RELATIVEPATH)
Quick: $(BUILDROOT)/Quick/$(RELATIVEPATH)/Makefile
	@ $(MAKE) -s -C $(BUILDDIR) $(MAKEFLAGS) $(OTHERGOALS)


# Make build directory and call cmake
$(BUILDROOT)/%/$(RELATIVEPATH)/Makefile:
	@ ($(MKDIR) $(BUILDROOT)/$* > /dev/null)
	@ (cd $(BUILDROOT)/$* > /dev/null 2>&1 && cmake -DCMAKE_BUILD_TYPE=$* $(ROOTDIR))

# for all other goals pass them down to make in the build directory
ifeq ($(filter $(BUILDTYPES),$(MAKECMDGOALS)),)

$(OTHERGOALS): $(BUILDDIR)/Makefile
	@ $(MAKE) -s -C $(BUILDDIR) $(MAKEFLAGS) $(OTHERGOALS)
else

$(OTHERGOALS): 
	@true
endif
